"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createTxId = exports.LENGTH_PROOF_HEADER_INPUTS = void 0;
const crypto_1 = require("crypto");
const proof_id_1 = require("./proof_id");
exports.LENGTH_PROOF_HEADER_INPUTS = 10 * 32;
exports.createTxId = (rawProofData) => {
    const proofId = rawProofData.readUInt32BE(0 * 32 + 28);
    const txIdData = proofId === proof_id_1.ProofId.DEFI_DEPOSIT
        ? Buffer.concat([
            rawProofData.slice(0, 4 * 32),
            Buffer.alloc(2 * 32),
            rawProofData.slice(6 * 32),
        ])
        : rawProofData;
    return crypto_1.createHash('sha256').update(txIdData.slice(0, exports.LENGTH_PROOF_HEADER_INPUTS)).digest();
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlX3R4X2lkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NsaWVudF9wcm9vZnMvcHJvb2ZfZGF0YS9jcmVhdGVfdHhfaWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUNBQW9DO0FBQ3BDLHlDQUFxQztBQUV4QixRQUFBLDBCQUEwQixHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7QUFFckMsUUFBQSxVQUFVLEdBQUcsQ0FBQyxZQUFvQixFQUFFLEVBQUU7SUFDakQsTUFBTSxPQUFPLEdBQUcsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZELE1BQU0sUUFBUSxHQUNaLE9BQU8sS0FBSyxrQkFBTyxDQUFDLFlBQVk7UUFDOUIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDWixZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQzdCLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNwQixZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7U0FDM0IsQ0FBQztRQUNKLENBQUMsQ0FBQyxZQUFZLENBQUM7SUFDbkIsT0FBTyxtQkFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxrQ0FBMEIsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDN0YsQ0FBQyxDQUFDIn0=