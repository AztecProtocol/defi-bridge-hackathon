#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ethers_1 = require("ethers");
const experimental_1 = require("@ethersproject/experimental");
const deploy_defi_bridge_proxy_1 = require("./deploy_defi_bridge_proxy");
const { ETHEREUM_HOST = 'http://localhost:8545', PRIVATE_KEY, WETH_ADDRESS } = process.env;
function getSigner() {
    if (!PRIVATE_KEY) {
        throw new Error('Specify PRIVATE_KEY.');
    }
    console.error(`Json rpc provider: ${ETHEREUM_HOST}`);
    const provider = new ethers_1.ethers.providers.JsonRpcProvider(ETHEREUM_HOST);
    return new experimental_1.NonceManager(new ethers_1.ethers.Wallet(PRIVATE_KEY, provider));
}
async function main() {
    if (!WETH_ADDRESS) {
        throw new Error('Specify WETH_ADDRESS.');
    }
    const defiBridgeProxy = await deploy_defi_bridge_proxy_1.deployDefiBridgeProxy(getSigner(), WETH_ADDRESS);
    console.log(`DEFI_BRIDGE_PROXY_ADDRESS=${defiBridgeProxy.address}`);
}
main().catch(error => {
    console.error(error);
    process.exit(1);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZGVwbG95X3Byb2QvZGVmaV9icmlkZ2VfcHJveHkvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsbUNBQXdDO0FBQ3hDLDhEQUEyRDtBQUMzRCx5RUFBbUU7QUFFbkUsTUFBTSxFQUFFLGFBQWEsR0FBRyx1QkFBdUIsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUUzRixTQUFTLFNBQVM7SUFDaEIsSUFBSSxDQUFDLFdBQVcsRUFBRTtRQUNoQixNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7S0FDekM7SUFDRCxPQUFPLENBQUMsS0FBSyxDQUFDLHNCQUFzQixhQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQ3JELE1BQU0sUUFBUSxHQUFHLElBQUksZUFBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDckUsT0FBTyxJQUFJLDJCQUFZLENBQUMsSUFBSSxlQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxRQUFRLENBQVcsQ0FBQyxDQUFDO0FBQzlFLENBQUM7QUFFRCxLQUFLLFVBQVUsSUFBSTtJQUNqQixJQUFJLENBQUMsWUFBWSxFQUFFO1FBQ2pCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztLQUMxQztJQUVELE1BQU0sZUFBZSxHQUFHLE1BQU0sZ0RBQXFCLENBQUMsU0FBUyxFQUFFLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDL0UsT0FBTyxDQUFDLEdBQUcsQ0FBQyw2QkFBNkIsZUFBZSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7QUFDdEUsQ0FBQztBQUVELElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRTtJQUNuQixPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEIsQ0FBQyxDQUFDLENBQUMifQ==