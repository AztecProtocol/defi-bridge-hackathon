#!/usr/bin/env node
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.deployDefiBridge = void 0;
const ethers_1 = require("ethers");
const UniswapBridge_json_1 = __importDefault(require("../artifacts/contracts/bridges/UniswapBridge.sol/UniswapBridge.json"));
async function deployDefiBridge(signer, rollupProcessor, uniswapRouter, inputAsset, outputAssetA, outputAssetB) {
    // TODO - Create a bridge contract with two output assets.
    console.error('Deploying DefiBridge...');
    const defiBridgeLibrary = new ethers_1.ContractFactory(UniswapBridge_json_1.default.abi, UniswapBridge_json_1.default.bytecode, signer);
    const defiBridge = await defiBridgeLibrary.deploy(rollupProcessor.address, uniswapRouter.address, inputAsset, outputAssetA);
    console.error(`DefiBridge contract address: ${defiBridge.address}. Input Asset: ${inputAsset}. Output asset A: ${outputAssetA}. Output asset B: ${outputAssetB || '-'}.`);
    return defiBridge;
}
exports.deployDefiBridge = deployDefiBridge;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVwbG95X2RlZmlfYnJpZGdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2RlcGxveS9kZXBsb3lfZGVmaV9icmlkZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBLG1DQUEyRDtBQUMzRCw2SEFBZ0c7QUFFekYsS0FBSyxVQUFVLGdCQUFnQixDQUNwQyxNQUFjLEVBQ2QsZUFBeUIsRUFDekIsYUFBdUIsRUFDdkIsVUFBa0IsRUFDbEIsWUFBb0IsRUFDcEIsWUFBcUI7SUFFckIsMERBQTBEO0lBQzFELE9BQU8sQ0FBQyxLQUFLLENBQUMseUJBQXlCLENBQUMsQ0FBQztJQUN6QyxNQUFNLGlCQUFpQixHQUFHLElBQUksd0JBQWUsQ0FBQyw0QkFBYSxDQUFDLEdBQUcsRUFBRSw0QkFBYSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNqRyxNQUFNLFVBQVUsR0FBRyxNQUFNLGlCQUFpQixDQUFDLE1BQU0sQ0FDL0MsZUFBZSxDQUFDLE9BQU8sRUFDdkIsYUFBYSxDQUFDLE9BQU8sRUFDckIsVUFBVSxFQUNWLFlBQVksQ0FDYixDQUFDO0lBQ0YsT0FBTyxDQUFDLEtBQUssQ0FDWCxnQ0FDRSxVQUFVLENBQUMsT0FDYixrQkFBa0IsVUFBVSxxQkFBcUIsWUFBWSxxQkFBcUIsWUFBWSxJQUFJLEdBQUcsR0FBRyxDQUN6RyxDQUFDO0lBQ0YsT0FBTyxVQUFVLENBQUM7QUFDcEIsQ0FBQztBQXZCRCw0Q0F1QkMifQ==