"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AliasDao = void 0;
const tslib_1 = require("tslib");
const account_id_1 = require("@aztec/barretenberg/account_id");
const address_1 = require("@aztec/barretenberg/address");
const typeorm_1 = require("typeorm");
const transformer_1 = require("./transformer");
let AliasDao = class AliasDao {
};
tslib_1.__decorate([
    typeorm_1.PrimaryColumn('blob', { transformer: [transformer_1.aliasHashTransformer] }),
    tslib_1.__metadata("design:type", account_id_1.AliasHash)
], AliasDao.prototype, "aliasHash", void 0);
tslib_1.__decorate([
    typeorm_1.PrimaryColumn('blob', { transformer: [transformer_1.grumpkinAddressTransformer] }),
    tslib_1.__metadata("design:type", address_1.GrumpkinAddress)
], AliasDao.prototype, "address", void 0);
tslib_1.__decorate([
    typeorm_1.Index({ unique: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], AliasDao.prototype, "latestNonce", void 0);
AliasDao = tslib_1.__decorate([
    typeorm_1.Entity({ name: 'alias' }),
    typeorm_1.Index(['aliasHash', 'address'], { unique: true })
], AliasDao);
exports.AliasDao = AliasDao;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxpYXNfZGFvLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2RhdGFiYXNlL3NxbF9kYXRhYmFzZS9hbGlhc19kYW8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLCtEQUEyRDtBQUMzRCx5REFBOEQ7QUFDOUQscUNBQStEO0FBRS9ELCtDQUFpRjtBQUlqRixJQUFhLFFBQVEsR0FBckIsTUFBYSxRQUFRO0NBVXBCLENBQUE7QUFSQztJQURDLHVCQUFhLENBQUMsTUFBTSxFQUFFLEVBQUUsV0FBVyxFQUFFLENBQUMsa0NBQW9CLENBQUMsRUFBRSxDQUFDO3NDQUM1QyxzQkFBUzsyQ0FBQztBQUc3QjtJQURDLHVCQUFhLENBQUMsTUFBTSxFQUFFLEVBQUUsV0FBVyxFQUFFLENBQUMsd0NBQTBCLENBQUMsRUFBRSxDQUFDO3NDQUNwRCx5QkFBZTt5Q0FBQztBQUlqQztJQUZDLGVBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsQ0FBQztJQUN4QixnQkFBTSxFQUFFOzs2Q0FDbUI7QUFUakIsUUFBUTtJQUZwQixnQkFBTSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxDQUFDO0lBQ3pCLGVBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQztHQUNyQyxRQUFRLENBVXBCO0FBVlksNEJBQVEifQ==