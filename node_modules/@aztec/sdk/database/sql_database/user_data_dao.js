"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UserDataDao = void 0;
const tslib_1 = require("tslib");
const address_1 = require("@aztec/barretenberg/address");
const typeorm_1 = require("typeorm");
const user_1 = require("../../user");
const transformer_1 = require("./transformer");
let UserDataDao = class UserDataDao {
};
tslib_1.__decorate([
    typeorm_1.PrimaryColumn('blob', { transformer: [transformer_1.accountIdTransformer] }),
    tslib_1.__metadata("design:type", user_1.AccountId)
], UserDataDao.prototype, "id", void 0);
tslib_1.__decorate([
    typeorm_1.Column('blob', { transformer: [transformer_1.grumpkinAddressTransformer] }),
    tslib_1.__metadata("design:type", address_1.GrumpkinAddress)
], UserDataDao.prototype, "publicKey", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Buffer)
], UserDataDao.prototype, "privateKey", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], UserDataDao.prototype, "nonce", void 0);
tslib_1.__decorate([
    typeorm_1.Column('blob', { nullable: true, transformer: [transformer_1.aliasHashTransformer] }),
    tslib_1.__metadata("design:type", user_1.AliasHash)
], UserDataDao.prototype, "aliasHash", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], UserDataDao.prototype, "syncedToRollup", void 0);
UserDataDao = tslib_1.__decorate([
    typeorm_1.Entity({ name: 'userData' }),
    typeorm_1.Index(['publicKey', 'nonce'], { unique: true })
], UserDataDao);
exports.UserDataDao = UserDataDao;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlcl9kYXRhX2Rhby5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kYXRhYmFzZS9zcWxfZGF0YWJhc2UvdXNlcl9kYXRhX2Rhby50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEseURBQThEO0FBQzlELHFDQUErRDtBQUMvRCxxQ0FBNEQ7QUFDNUQsK0NBQXVHO0FBSXZHLElBQWEsV0FBVyxHQUF4QixNQUFhLFdBQVc7Q0FrQnZCLENBQUE7QUFoQkM7SUFEQyx1QkFBYSxDQUFDLE1BQU0sRUFBRSxFQUFFLFdBQVcsRUFBRSxDQUFDLGtDQUFvQixDQUFDLEVBQUUsQ0FBQztzQ0FDbkQsZ0JBQVM7dUNBQUM7QUFHdEI7SUFEQyxnQkFBTSxDQUFDLE1BQU0sRUFBRSxFQUFFLFdBQVcsRUFBRSxDQUFDLHdDQUEwQixDQUFDLEVBQUUsQ0FBQztzQ0FDM0MseUJBQWU7OENBQUM7QUFHbkM7SUFEQyxnQkFBTSxFQUFFO3NDQUNXLE1BQU07K0NBQUM7QUFHM0I7SUFEQyxnQkFBTSxFQUFFOzswQ0FDYTtBQUd0QjtJQURDLGdCQUFNLENBQUMsTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsQ0FBQyxrQ0FBb0IsQ0FBQyxFQUFFLENBQUM7c0NBQ3JELGdCQUFTOzhDQUFDO0FBRzdCO0lBREMsZ0JBQU0sRUFBRTs7bURBQ3NCO0FBakJwQixXQUFXO0lBRnZCLGdCQUFNLENBQUMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLENBQUM7SUFDNUIsZUFBSyxDQUFDLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDO0dBQ25DLFdBQVcsQ0FrQnZCO0FBbEJZLGtDQUFXIn0=