"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WalletSdk = exports.createWalletSdk = void 0;
const tslib_1 = require("tslib");
const rollup_provider_1 = require("@aztec/barretenberg/rollup_provider");
const service_1 = require("@aztec/barretenberg/service");
const blockchain_1 = require("@aztec/blockchain");
const providers_1 = require("@ethersproject/providers");
const crypto_1 = require("crypto");
const debug_1 = tslib_1.__importDefault(require("debug"));
const ethers_1 = require("ethers");
const events_1 = require("events");
const create_sdk_1 = require("../core_sdk/create_sdk");
const sdk_1 = require("../sdk");
const signer_1 = require("../signer");
const user_1 = require("../user");
const wallet_sdk_user_1 = require("./wallet_sdk_user");
tslib_1.__exportStar(require("@aztec/barretenberg/asset"), exports);
tslib_1.__exportStar(require("./wallet_sdk_user"), exports);
tslib_1.__exportStar(require("./wallet_sdk_user_asset"), exports);
const debug = debug_1.default('bb:wallet_sdk');
async function createWalletSdk(ethereumProvider, serverUrl, sdkOptions = {}) {
    var _a;
    if (sdkOptions.debug) {
        debug_1.default.enable('bb:*');
    }
    const { assets, rollupContractAddress, chainId } = await service_1.getBlockchainStatus(serverUrl);
    const core = await create_sdk_1.createSdk(serverUrl, sdkOptions);
    // Set erase flag if requested or contract changed.
    if (sdkOptions.clearDb || !((_a = (await core.getRollupContractAddress())) === null || _a === void 0 ? void 0 : _a.equals(rollupContractAddress))) {
        debug('erasing database');
        await core.eraseDb();
    }
    const provider = new providers_1.Web3Provider(ethereumProvider);
    const { chainId: providerChainId } = await provider.getNetwork();
    if (chainId !== providerChainId) {
        throw new Error(`Provider chainId ${providerChainId} does not match rollup provider chainId ${chainId}.`);
    }
    const blockchain = new blockchain_1.ClientEthereumBlockchain(rollupContractAddress, assets, ethereumProvider);
    const ethSigner = new blockchain_1.Web3Signer(provider);
    return new WalletSdk(core, blockchain, ethSigner, sdkOptions);
}
exports.createWalletSdk = createWalletSdk;
class WalletSdk extends events_1.EventEmitter {
    constructor(core, blockchain, ethSigner, sdkOptions = {}) {
        super();
        this.core = core;
        this.blockchain = blockchain;
        this.ethSigner = ethSigner;
        this.sdkOptions = sdkOptions;
    }
    static create(ethereumProvider, serverUrl, sdkOptions = {}) {
        return createWalletSdk(ethereumProvider, serverUrl, sdkOptions);
    }
    async init() {
        // Forward all core sdk events.
        for (const e in sdk_1.SdkEvent) {
            const event = sdk_1.SdkEvent[e];
            this.core.on(event, (...args) => this.emit(event, ...args));
        }
        await this.core.init();
    }
    async destroy() {
        var _a;
        await ((_a = this.core) === null || _a === void 0 ? void 0 : _a.destroy());
        this.removeAllListeners();
    }
    async awaitSynchronised() {
        return this.core.awaitSynchronised();
    }
    isUserSynching(userId) {
        return this.core.isUserSynching(userId);
    }
    async awaitUserSynchronised(userId) {
        return this.core.awaitUserSynchronised(userId);
    }
    async awaitSettlement(txHash, timeout) {
        return this.core.awaitSettlement(txHash, timeout);
    }
    getLocalStatus() {
        return this.core.getLocalStatus();
    }
    async getRemoteStatus() {
        return this.core.getRemoteStatus();
    }
    async getFee(assetId, txType, speed = rollup_provider_1.SettlementTime.SLOW) {
        return this.core.getFee(assetId, txType, speed);
    }
    getUserPendingDeposit(assetId, account) {
        return this.blockchain.getUserPendingDeposit(assetId, account);
    }
    async getAddressFromAlias(alias, nonce) {
        return this.core.getAddressFromAlias(alias, nonce);
    }
    async getLatestUserNonce(publicKey) {
        return this.core.getLatestUserNonce(publicKey);
    }
    async isAliasAvailable(alias) {
        return this.core.isAliasAvailable(alias);
    }
    async mint(assetId, value, account, provider) {
        return this.blockchain.getAsset(assetId).mint(value, account, provider);
    }
    async approve(assetId, value, account, provider) {
        const { rollupContractAddress } = this.getLocalStatus();
        return this.blockchain.getAsset(assetId).approve(value, account, rollupContractAddress, provider);
    }
    async createPermitData(assetId, from, value, deadline) {
        const nonce = await this.blockchain.getAsset(assetId).getUserNonce(from);
        const { rollupContractAddress, chainId, assets } = this.getLocalStatus();
        const asset = assets[assetId];
        return blockchain_1.createPermitData(asset.name, from, rollupContractAddress, value, nonce, deadline, chainId, asset.address);
    }
    async createPermitArgs(assetId, from, value, deadline, provider) {
        if (!deadline) {
            const currentTimeInt = Math.floor(new Date().getTime() / 1000);
            const expireIn = BigInt(300);
            deadline = BigInt(currentTimeInt) + expireIn;
        }
        const permitData = await this.createPermitData(assetId, from, value, deadline);
        const ethSigner = provider ? new blockchain_1.Web3Signer(new providers_1.Web3Provider(provider)) : this.ethSigner;
        const signature = await ethSigner.signTypedData(permitData, from);
        const permitArgs = { approvalAmount: value, deadline, signature };
        return permitArgs;
    }
    async createDepositProof(assetId, from, to, value, fee, signer) {
        return this.createJoinSplitProof(assetId, to, value + fee, BigInt(0), BigInt(0), BigInt(0), value, signer, to, from);
    }
    async createWithdrawProof(assetId, userId, value, fee, signer, to) {
        return this.createJoinSplitProof(assetId, userId, BigInt(0), value, value + fee, BigInt(0), BigInt(0), signer, undefined, undefined, to);
    }
    async createTransferProof(assetId, userId, value, fee, signer, to) {
        return this.createJoinSplitProof(assetId, userId, BigInt(0), BigInt(0), value + fee, value, BigInt(0), signer, to);
    }
    async createJoinSplitProof(assetId, userId, publicInput, publicOutput, privateInput, recipientPrivateOutput, senderPrivateOutput, signer, noteRecipient, inputOwner, outputOwner) {
        if (publicOutput + recipientPrivateOutput + senderPrivateOutput > publicInput + privateInput) {
            throw new Error('Total output cannot be larger than total input.');
        }
        if (privateInput) {
            await this.checkNoteBalance(assetId, userId, privateInput);
        }
        if (recipientPrivateOutput && !noteRecipient) {
            throw new Error('No note recipient specified.');
        }
        if (publicOutput && !outputOwner) {
            throw new Error('No output address specified.');
        }
        if (publicInput && !inputOwner) {
            throw new Error('No input address specified.');
        }
        return this.core.createJoinSplitProof(assetId, userId, publicInput, publicOutput, privateInput, recipientPrivateOutput, senderPrivateOutput, signer, noteRecipient, inputOwner, outputOwner);
    }
    async createAccountProof(userId, signer, alias, nonce, migrate, newSigningPublicKey1, newSigningPublicKey2, newAccountPrivateKey) {
        const aliasHash = this.core.computeAliasHash(alias);
        return this.core.createAccountProof(userId, signer, aliasHash, nonce, migrate, newSigningPublicKey1, newSigningPublicKey2, newAccountPrivateKey);
    }
    async createDefiProof(bridgeId, userId, depositValue, txFee, signer) {
        if (!depositValue) {
            throw new Error('Deposit value must be greater than 0.');
        }
        await this.checkNoteBalance(bridgeId.inputAssetId, userId, depositValue + txFee);
        return this.core.createDefiProof(bridgeId, userId, depositValue, txFee, signer);
    }
    async signProof(proofOutput, inputOwner, provider) {
        const { signingData } = proofOutput;
        if (!signingData) {
            throw new Error('This proof does not require a signature.');
        }
        const msgHash = ethers_1.utils.keccak256(signingData);
        const digest = ethers_1.utils.arrayify(msgHash);
        const ethSigner = provider ? new blockchain_1.Web3Signer(new providers_1.Web3Provider(provider)) : this.ethSigner;
        return ethSigner.signMessage(Buffer.from(digest), inputOwner);
    }
    async sendProof(proofOutput, signature) {
        return this.core.sendProof(proofOutput, signature);
    }
    async approveProof(address, signingData, provider) {
        return this.blockchain.approveProof(address, signingData, provider);
    }
    async depositFundsToContract(assetId, from, value, permitArgs, provider) {
        return this.blockchain.depositPendingFunds(assetId, value, from, permitArgs, provider);
    }
    async getTransactionReceipt(txHash, interval = 1, timeout = 300) {
        const { minConfirmation, minConfirmationEHW } = this.sdkOptions;
        const confs = minConfirmationEHW !== undefined && (await this.core.getRemoteStatus()).blockchainStatus.escapeOpen
            ? minConfirmationEHW
            : minConfirmation || 0;
        return this.blockchain.getTransactionReceipt(txHash, interval, timeout, confs);
    }
    async isContract(address) {
        return this.blockchain.isContract(address);
    }
    async isProofApproved(account, signingData) {
        return !!(await this.blockchain.getUserProofApprovalStatus(account, signingData));
    }
    async checkNoteBalance(assetId, userId, value) {
        const balance = this.core.getBalance(assetId, userId);
        if (value > balance) {
            throw new Error('Not enough balance.');
        }
        const maxTxValue = await this.core.getMaxSpendableValue(assetId, userId);
        if (value > maxTxValue) {
            const messages = [`Failed to find 2 notes that sum to ${this.fromBaseUnits(assetId, value)}.`];
            if (maxTxValue) {
                messages.push(`Please make a transaction no more than ${this.fromBaseUnits(assetId, maxTxValue)}.`);
            }
            else {
                messages.push('Please wait for pending transactions to settle.');
            }
            throw new Error(messages.join(' '));
        }
    }
    async generateAccountRecoveryData(alias, publicKey, trustedThirdPartyPublicKeys, nonce) {
        const accountNonce = nonce !== undefined ? nonce : (await this.core.getLatestUserNonce(publicKey)) + 1;
        const accountId = new user_1.AccountId(publicKey, accountNonce);
        const socialRecoverySigner = this.core.createSchnorrSigner(crypto_1.randomBytes(32));
        const recoveryPublicKey = socialRecoverySigner.getPublicKey();
        return Promise.all(trustedThirdPartyPublicKeys.map(async (trustedThirdPartyPublicKey) => {
            const { signature } = await this.core.createAccountTx(socialRecoverySigner, alias, accountNonce, false, publicKey, undefined, trustedThirdPartyPublicKey);
            const recoveryData = new user_1.RecoveryData(accountId, signature);
            return new user_1.RecoveryPayload(trustedThirdPartyPublicKey, recoveryPublicKey, recoveryData);
        }));
    }
    async createAccount(userId, alias, newSigningPublicKey, recoveryPublicKey) {
        const user = this.getUserData(userId);
        if (user.nonce > 0) {
            throw new Error('User already registered.');
        }
        if (!(await this.isAliasAvailable(alias))) {
            throw new Error('Alias already registered.');
        }
        const signer = this.core.createSchnorrSigner(user.privateKey);
        const aliasHash = this.core.computeAliasHash(alias);
        return this.sendAccountProof(user.id, signer, aliasHash, 0, true, newSigningPublicKey, recoveryPublicKey);
    }
    async recoverAccount(recoveryPayload) {
        const { trustedThirdPartyPublicKey, recoveryPublicKey, recoveryData } = recoveryPayload;
        const { accountId, signature } = recoveryData;
        const recoverySigner = new signer_1.RecoverSignatureSigner(recoveryPublicKey, signature);
        return this.addSigningKeys(accountId, recoverySigner, trustedThirdPartyPublicKey);
    }
    async migrateAccount(userId, signer, newSigningPublicKey, recoveryPublicKey, newAccountPrivateKey) {
        const user = this.getUserData(userId);
        if (!user.aliasHash) {
            throw new Error('User not registered.');
        }
        return this.sendAccountProof(user.id, signer, user.aliasHash, user.nonce, true, newSigningPublicKey, recoveryPublicKey, newAccountPrivateKey);
    }
    async addSigningKeys(userId, signer, signingPublicKey1, signingPublicKey2) {
        const user = this.getUserData(userId);
        if (!user.aliasHash) {
            throw new Error('User not registered.');
        }
        return this.sendAccountProof(user.id, signer, user.aliasHash, user.nonce, false, signingPublicKey1, signingPublicKey2);
    }
    async getSigningKeys(userId) {
        return this.core.getSigningKeys(userId);
    }
    async userExists(userId) {
        return this.core.userExists(userId);
    }
    getUserData(userId) {
        return this.core.getUserData(userId);
    }
    getUsersData() {
        return this.core.getUsersData();
    }
    createSchnorrSigner(privateKey) {
        return this.core.createSchnorrSigner(privateKey);
    }
    async addUser(privateKey, nonce, noSync = false) {
        const userData = await this.core.addUser(privateKey, nonce, noSync);
        return new wallet_sdk_user_1.WalletSdkUser(userData.id, this);
    }
    async removeUser(userId) {
        return this.core.removeUser(userId);
    }
    /**
     * Returns a WalletSdkUser for a locally resolved user.
     */
    getUser(userId) {
        const userData = this.getUserData(userId);
        return new wallet_sdk_user_1.WalletSdkUser(userData.id, this);
    }
    getBalance(assetId, userId) {
        return this.core.getBalance(assetId, userId);
    }
    async getMaxSpendableValue(assetId, userId) {
        return this.core.getMaxSpendableValue(assetId, userId);
    }
    async getSpendableNotes(assetId, userId) {
        return this.core.getSpendableNotes(assetId, userId);
    }
    async getSpendableSum(assetId, userId) {
        return this.core.getSpendableSum(assetId, userId);
    }
    async getPublicBalance(assetId, ethAddress) {
        return this.blockchain.getAsset(assetId).balanceOf(ethAddress);
    }
    async getPublicAllowance(assetId, ethAddress) {
        const { rollupContractAddress } = this.getLocalStatus();
        return this.blockchain.getAsset(assetId).allowance(ethAddress, rollupContractAddress);
    }
    fromBaseUnits(assetId, value, precision) {
        return this.blockchain.getAsset(assetId).fromBaseUnits(value, precision);
    }
    toBaseUnits(assetId, value) {
        return this.blockchain.getAsset(assetId).toBaseUnits(value);
    }
    getAssetInfo(assetId) {
        return this.blockchain.getAsset(assetId).getStaticInfo();
    }
    async getJoinSplitTxs(userId) {
        return this.core.getJoinSplitTxs(userId);
    }
    async getAccountTxs(userId) {
        return this.core.getAccountTxs(userId);
    }
    async getDefiTxs(userId) {
        return this.core.getDefiTxs(userId);
    }
    async getNotes(userId) {
        return this.core.getNotes(userId);
    }
    derivePublicKey(privateKey) {
        return this.core.derivePublicKey(privateKey);
    }
    validateSignature(publicOwner, signature, signingData) {
        return blockchain_1.validateSignature(publicOwner, signature, signingData);
    }
    /**
     * Returns a globally resolved AccountId.
     */
    async getAccountId(aliasOrAddress, nonce) {
        return this.core.getAccountId(aliasOrAddress, nonce);
    }
    async sendAccountProof(userId, signer, aliasHash, nonce, migrate, newSigningPublicKey1, newSigningPublicKey2, newAccountPrivateKey) {
        const proofOutput = await this.core.createAccountProof(userId, signer, aliasHash, nonce, migrate, newSigningPublicKey1, newSigningPublicKey2, newAccountPrivateKey);
        let newUser;
        const { tx } = proofOutput;
        if (tx.migrated) {
            const { privateKey } = this.getUserData(userId);
            newUser = await this.core.addUser(newAccountPrivateKey || privateKey, tx.userId.nonce);
        }
        try {
            const txId = await this.sendProof(proofOutput);
            return txId;
        }
        catch (e) {
            if (newUser) {
                await this.removeUser(newUser.id);
            }
            throw e;
        }
    }
}
exports.WalletSdk = WalletSdk;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvd2FsbGV0X3Nkay9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBSUEseUVBQXFFO0FBQ3JFLHlEQUFrRTtBQUVsRSxrREFNMkI7QUFFM0Isd0RBQXdEO0FBQ3hELG1DQUFxQztBQUNyQywwREFBZ0M7QUFDaEMsbUNBQStCO0FBQy9CLG1DQUFzQztBQUV0Qyx1REFBK0Q7QUFFL0QsZ0NBQWdEO0FBQ2hELHNDQUEyRDtBQUMzRCxrQ0FBOEU7QUFDOUUsdURBQWtEO0FBRWxELG9FQUEwQztBQUMxQyw0REFBa0M7QUFDbEMsa0VBQXdDO0FBRXhDLE1BQU0sS0FBSyxHQUFHLGVBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUVwQyxLQUFLLFVBQVUsZUFBZSxDQUNuQyxnQkFBa0MsRUFDbEMsU0FBaUIsRUFDakIsYUFBeUIsRUFBRTs7SUFFM0IsSUFBSSxVQUFVLENBQUMsS0FBSyxFQUFFO1FBQ3BCLGVBQVcsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDNUI7SUFFRCxNQUFNLEVBQUUsTUFBTSxFQUFFLHFCQUFxQixFQUFFLE9BQU8sRUFBRSxHQUFHLE1BQU0sNkJBQW1CLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFeEYsTUFBTSxJQUFJLEdBQUcsTUFBTSxzQkFBUyxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUVwRCxtREFBbUQ7SUFDbkQsSUFBSSxVQUFVLENBQUMsT0FBTyxJQUFJLFFBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyx3QkFBd0IsRUFBRSxDQUFDLDBDQUFFLE1BQU0sQ0FBQyxxQkFBcUIsRUFBQyxFQUFFO1FBQ2pHLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQzFCLE1BQU0sSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0tBQ3RCO0lBRUQsTUFBTSxRQUFRLEdBQUcsSUFBSSx3QkFBWSxDQUFDLGdCQUFnQixDQUFD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